!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=19)}([function(e,t){e.exports=React},function(e,t,n){e.exports=n(37)()},function(e,t,n){"use strict";function r(e){var t=document.querySelector("[tabIndex='"+e+"']");t&&t.blur()}function o(e){var t=document.querySelector("[tabIndex='"+e+"']");t&&!t.disabled&&t.focus()}function u(e){e.select(),e.setSelectionRange(0,e.value.length,"backward")}function i(e){var t=e.reduce(function(e,t){var n=l(t,2),r=n[0];return n[1]&&e.push(r),e},[]);return 0===t.length?null:t.join(" ")}function a(){for(var e=arguments[0],t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function c(e,t){var n=void 0;n="function"!=typeof t?function(){return t}:t;for(var r=[],o=0;o<e;o++)r.push(n());return r}function s(e){var t={};return e.filter(function(e){return!t[e]&&(t[e]=!0,!0)})}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.blurTabIndex=r,t.focusTabIndex=o,t.selectInput=u,t.classList=i,t.objectAssign=a,t.filledArray=c,t.unique=s;var f=!1;try{t.COPY_SUPPORTED=f=document.queryCommandSupported("copy")}catch(e){t.COPY_SUPPORTED=f=!1}t.COPY_SUPPORTED=f},function(e,t,n){"use strict";function r(e){return{type:"LOAD_MANIFESTS",manifests:e}}function o(e,t,n){return{type:"SELECT_SUBJECT",year:e,locations:t,columns:n}}function u(e,t){return{type:"BEGIN_UPDATE_VALUE",col:e,row:t}}function i(e,t,n,r){return{type:"UPDATE_VALUE",value:e,partialErrors:t,fullErrors:n,unclear:r}}function a(){return{type:"END_UPDATE_VALUE"}}function c(){return{type:"DONE"}}function s(e){return{type:"COPY",col:e}}function l(e){return{type:"COPY_ERROR",col:e}}function f(){return{type:"TOGGLE_UNCLEAR"}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadManifests=r,t.selectSubject=o,t.beginUpdateValue=u,t.updateValue=i,t.endUpdateValue=a,t.done=c,t.copy=s,t.copyError=l,t.toggleUnclear=f},function(e,t,n){"use strict";function r(e){if(!Object(i.a)(e)||Object(o.a)(e)!=a)return!1;var t=Object(u.a)(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==p}var o=n(21),u=n(26),i=n(28),a="[object Object]",c=Function.prototype,s=Object.prototype,l=c.toString,f=s.hasOwnProperty,p=l.call(Object);t.a=r},function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(33),u=n(34),i=n(35),a=n(11);n(10);n.d(t,"createStore",function(){return r.b}),n.d(t,"combineReducers",function(){return o.a}),n.d(t,"bindActionCreators",function(){return u.a}),n.d(t,"applyMiddleware",function(){return i.a}),n.d(t,"compose",function(){return a.a})},function(e,t,n){"use strict";function r(e,t,n){function u(){v===b&&(v=b.slice())}function c(){return y}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return u(),v.push(e),function(){if(t){t=!1,u();var n=v.indexOf(e);v.splice(n,1)}}}function l(e){if(!Object(o.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,y=h(y,e)}finally{m=!1}for(var t=b=v,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,l({type:a.INIT})}function p(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(c())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[i.a]=function(){return this},e}var d;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,y=t,b=[],v=b,m=!1;return l({type:a.INIT}),d={dispatch:l,subscribe:s,getState:c,replaceReducer:f},d[i.a]=p,d}n.d(t,"a",function(){return a}),t.b=r;var o=n(4),u=n(29),i=n.n(u),a={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";var r=n(22),o=r.a.Symbol;t.a=o},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),o=n(14),u=n(44);n.d(t,"Provider",function(){return r.b}),n.d(t,"createProvider",function(){return r.a}),n.d(t,"connectAdvanced",function(){return o.a}),n.d(t,"connect",function(){return u.a})},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return i});var r=n(1),o=n.n(r),u=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),i=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(){}function c(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function s(e){var t,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=s.getDisplayName,p=void 0===l?function(e){return"ConnectAdvanced("+e+")"}:l,g=s.methodName,O=void 0===g?"connectAdvanced":g,E=s.renderCountProp,j=void 0===E?void 0:E,S=s.shouldHandleStateChanges,P=void 0===S||S,C=s.storeKey,I=void 0===C?"store":C,x=s.withRef,_=void 0!==x&&x,T=i(s,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),R=I+"Subscription",N=m++,k=(t={},t[I]=b.a,t[R]=b.b,t),q=(n={},n[R]=b.b,n);return function(t){d()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",i=p(n),s=v({},T,{getDisplayName:p,methodName:O,renderCountProp:j,shouldHandleStateChanges:P,storeKey:I,withRef:_,displayName:i,wrappedComponentName:n,WrappedComponent:t}),l=function(n){function l(e,t){r(this,l);var u=o(this,n.call(this,e,t));return u.version=N,u.state={},u.renderCount=0,u.store=e[I]||t[I],u.propsMode=Boolean(e[I]),u.setWrappedInstance=u.setWrappedInstance.bind(u),d()(u.store,'Could not find "'+I+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+I+'" as a prop to "'+i+'".'),u.initSelector(),u.initSubscription(),u}return u(l,n),l.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[R]=t||this.context[R],e},l.prototype.componentDidMount=function(){P&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},l.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=a,this.store=null,this.selector.run=a,this.selector.shouldComponentUpdate=!1},l.prototype.getWrappedInstance=function(){return d()(_,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+O+"() call."),this.wrappedInstance},l.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},l.prototype.initSelector=function(){var t=e(this.store.dispatch,s);this.selector=c(t,this.store),this.selector.run(this.props)},l.prototype.initSubscription=function(){if(P){var e=(this.propsMode?this.props:this.context)[R];this.subscription=new y.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(w)):this.notifyNestedSubs()},l.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.prototype.addExtraProps=function(e){if(!(_||j||this.propsMode&&this.subscription))return e;var t=v({},e);return _&&(t.ref=this.setWrappedInstance),j&&(t[j]=this.renderCount++),this.propsMode&&this.subscription&&(t[R]=this.subscription),t},l.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(h.createElement)(t,this.addExtraProps(e.props))},l}(h.Component);return l.WrappedComponent=t,l.displayName=i,l.childContextTypes=q,l.contextTypes=k,l.propTypes=k,f()(l,t)}}t.a=s;var l=n(41),f=n.n(l),p=n(42),d=n.n(p),h=n(0),y=(n.n(h),n(43)),b=n(13),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=0,w={}},function(e,t,n){"use strict";function r(e){return function(t,n){function r(){return o}var o=e(t,n);return r.dependsOnOwnProps=!1,r}}function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function u(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=o(e);var u=r(t,n);return"function"==typeof u&&(r.mapToProps=u,r.dependsOnOwnProps=o(u),u=r(t,n)),u},r}}t.a=r,t.b=u;n(16)},function(e,t,n){"use strict";n(4),n(5)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.TabIndexGenerator=function(){function e(t){r(this,e),this.manifest=t;var n=t.locations.length,o=this.getValueColumnCount(),u=void 0;this.tabIndices=[],this.index=0;for(var i=0;i<n;i++)for(var a=0;a<o;a++)u=1+i+a*n,this.tabIndices.push(u);for(var c=0;c<o;c++)u++,this.tabIndices.push(u);this.tabIndices.push(u+1)}return o(e,[{key:"getValueColumnCount",value:function(){return this.manifest.columns.filter(function(e){return!e.ignore&&"header"!==e.type}).length}},{key:"next",value:function(){return this.tabIndices[this.index++]}},{key:"doneTabIndex",value:function(){return this.tabIndices[this.tabIndices.length-1]}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.iconName,n=e.classes,r=void 0===n?"":n,o=(0,s.classList)([["icon",!0],[t,!0],[r,""!==r]]);return i.default.createElement("svg",{className:o,"aria-hidden":"true"},i.default.createElement("use",{xlinkHref:"#"+t}))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),i=r(u),a=n(1),c=r(a),s=n(2);o.propTypes={iconName:c.default.string.isRequired,classes:c.default.string},t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(0),u=r(o),i=n(20),a=r(i),c=n(6),s=n(12),l=n(51),f=r(l),p=n(3),d=n(52),h=r(d),y=n(58),b=r(y),v=(0,c.createStore)(f.default);a.default.render(u.default.createElement(s.Provider,{store:v},u.default.createElement(h.default,null)),document.getElementById("app")),v.dispatch((0,p.loadManifests)(b.default))},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?c:a:s&&s in Object(e)?Object(u.a)(e):Object(i.a)(e)}var o=n(8),u=n(24),i=n(25),a="[object Null]",c="[object Undefined]",s=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";var r=n(23),o="object"==typeof self&&self&&self.Object===Object&&self,u=r.a||o||Function("return this")();t.a=u},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(9))},function(e,t,n){"use strict";function r(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[c]=n:delete e[c]),o}var o=n(8),u=Object.prototype,i=u.hasOwnProperty,a=u.toString,c=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return u.call(e)}var o=Object.prototype,u=o.toString;t.a=r},function(e,t,n){"use strict";var r=n(27),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){e.exports=n(30)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,u=n(32),i=function(e){return e&&e.__esModule?e:{default:e}}(u);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=(0,i.default)(o);t.default=a}).call(t,n(9),n(31)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:i.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function u(e){for(var t=Object.keys(e),n={},u=0;u<t.length;u++){var i=t[u];"function"==typeof e[i]&&(n[i]=e[i])}var a=Object.keys(n),c=void 0;try{o(n)}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var o=!1,u={},i=0;i<a.length;i++){var s=a[i],l=n[s],f=e[s],p=l(f,t);if(void 0===p){var d=r(s,t);throw new Error(d)}u[s]=p,o=o||p!==f}return o?u:e}}t.a=u;var i=n(7);n(4),n(10)},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},u=0;u<n.length;u++){var i=n[u],a=e[i];"function"==typeof a&&(o[i]=r(a,t))}return o}t.a=o},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a=e(n,r,i),c=a.dispatch,s=[],l={getState:a.getState,dispatch:function(e){return c(e)}};return s=t.map(function(e){return e(l)}),c=o.a.apply(void 0,s)(a.dispatch),u({},a,{dispatch:c})}}}t.a=r;var o=n(11),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],i=n||t+"Subscription",c=function(e){function n(u,i){r(this,n);var a=o(this,e.call(this,u,i));return a[t]=u.store,a}return u(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[i]=null,e},n.prototype.render=function(){return a.Children.only(this.props.children)},n}(a.Component);return c.propTypes={store:l.a.isRequired,children:s.a.element.isRequired},c.childContextTypes=(e={},e[t]=l.a.isRequired,e[i]=l.b,e),c}t.a=i;var a=n(0),c=(n.n(a),n(1)),s=n.n(c),l=n(13);n(5);t.b=i()},function(e,t,n){"use strict";var r=n(38),o=n(39),u=n(40);e.exports=function(){function e(e,t,n,r,i,a){a!==u&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,u,i,a,c){if(o(t),!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,u,i,a,c],f=0;s=new Error(t.replace(/%s/g,function(){return l[f++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u=Object.defineProperty,i=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,s=Object.getPrototypeOf,l=s&&s(Object);e.exports=function e(t,n,f){if("string"!=typeof n){if(l){var p=s(n);p&&p!==l&&e(t,p,f)}var d=i(n);a&&(d=d.concat(a(n)));for(var h=0;h<d.length;++h){var y=d[h];if(!(r[y]||o[y]||f&&f[y])){var b=c(n,y);try{u(t,y,b)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,u,i,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,u,i,a],l=0;c=new Error(t.replace(/%s/g,function(){return s[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=[],t=[];return{clear:function(){t=u,e=u},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==u&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}n.d(t,"a",function(){return a});var u=null,i={notify:function(){}},a=function(){function e(t,n,o){r(this,e),this.store=t,this.parentSub=n,this.onStateChange=o,this.unsubscribe=null,this.listeners=i}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=o())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=i)},e}()},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function u(e,t){return e===t}var i=n(14),a=n(45),c=n(46),s=n(47),l=n(48),f=n(49),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?i.a:t,d=e.mapStateToPropsFactories,h=void 0===d?s.a:d,y=e.mapDispatchToPropsFactories,b=void 0===y?c.a:y,v=e.mergePropsFactories,m=void 0===v?l.a:v,w=e.selectorFactory,g=void 0===w?f.a:w;return function(e,t,i){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=c.pure,l=void 0===s||s,f=c.areStatesEqual,d=void 0===f?u:f,y=c.areOwnPropsEqual,v=void 0===y?a.a:y,w=c.areStatePropsEqual,O=void 0===w?a.a:w,E=c.areMergedPropsEqual,j=void 0===E?a.a:E,S=r(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),P=o(e,h,"mapStateToProps"),C=o(t,b,"mapDispatchToProps"),I=o(i,m,"mergeProps");return n(g,p({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:P,initMapDispatchToProps:C,initMergeProps:I,pure:l,areStatesEqual:d,areOwnPropsEqual:v,areStatePropsEqual:O,areMergedPropsEqual:j},S))}}()},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++)if(!u.call(t,n[i])||!r(e[n[i]],t[n[i]]))return!1;return!0}t.a=o;var u=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){return"function"==typeof e?Object(a.b)(e,"mapDispatchToProps"):void 0}function o(e){return e?void 0:Object(a.a)(function(e){return{dispatch:e}})}function u(e){return e&&"object"==typeof e?Object(a.a)(function(t){return Object(i.bindActionCreators)(e,t)}):void 0}var i=n(6),a=n(15);t.a=[r,o,u]},function(e,t,n){"use strict";function r(e){return"function"==typeof e?Object(u.b)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:Object(u.a)(function(){return{}})}var u=n(15);t.a=[r,o]},function(e,t,n){"use strict";function r(e,t,n){return a({},n,e,t)}function o(e){return function(t,n){var r=(n.displayName,n.pure),o=n.areMergedPropsEqual,u=!1,i=void 0;return function(t,n,a){var c=e(t,n,a);return u?r&&o(c,i)||(i=c):(u=!0,i=c),i}}}function u(e){return"function"==typeof e?o(e):void 0}function i(e){return e?void 0:function(){return r}}var a=(n(16),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});t.a=[u,i]},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n,r){return function(o,u){return n(e(o,u),t(r,u),u)}}function u(e,t,n,r,o){function u(o,u){return h=o,y=u,b=e(h,y),v=t(r,y),m=n(b,v,y),d=!0,m}function i(){return b=e(h,y),t.dependsOnOwnProps&&(v=t(r,y)),m=n(b,v,y)}function a(){return e.dependsOnOwnProps&&(b=e(h,y)),t.dependsOnOwnProps&&(v=t(r,y)),m=n(b,v,y)}function c(){var t=e(h,y),r=!p(t,b);return b=t,r&&(m=n(b,v,y)),m}function s(e,t){var n=!f(t,y),r=!l(e,h);return h=e,y=t,n&&r?i():n?a():r?c():m}var l=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,d=!1,h=void 0,y=void 0,b=void 0,v=void 0,m=void 0;return function(e,t){return d?s(e,t):u(e,t)}}function i(e,t){var n=t.initMapStateToProps,i=t.initMapDispatchToProps,a=t.initMergeProps,c=r(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=n(e,c),l=i(e,c),f=a(e,c);return(c.pure?u:o)(s,l,f,e,c)}t.a=i;n(50)},function(e,t,n){"use strict";n(5)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return{value:"",edited:!1,unclear:!1,fullErrors:[]}}function u(e){return{year:"",locations:"",columns:"",yearChoices:e,locationsChoices:[],columnsChoices:[]}}function i(){return(0,S.objectAssign)(o(),{col:-1,row:-1,partialErrors:[]})}function a(){return{selector:u([]),manifests:[],manifest:null,table:null,results:null,current:i()}}function c(e,t){return""===t?null:e.filter(function(e){return e.id===t})[0]}function s(e){if(null===e)return null;var t=e.locations.length;return e.columns.reduce(function(e,n,r){return n.ignore||"header"===n.type||(e[r]=(0,S.filledArray)(t,o())),e},{})}function l(e){return null===e?null:e.columns.reduce(function(e,t,n){return t.ignore||"header"===t.type||(e[n]={value:"",copied:!1,hasCopyError:!1}),e},{})}function f(e){return e.map(function(e){var t=e.value;return e.unclear?"[unclear]"+t+"[/unclear]":t}).join(",")}function p(e,t,n){var o=t[n].value,u=e[n],i=u.every(function(e){var t=e.edited,n=e.unclear,r=e.fullErrors;return t&&(n||0==r.length)}),a=i?f(u):"";return a===o?t:(0,S.objectAssign)({},t,r({},n,{value:a,copied:!1,hasCopyError:!1}))}function d(e,t,n,r,o){var u=(0,S.unique)(o.reduce(function(t,n){return n.year===e&&t.push(n.locationsTitle),t},[]));u.sort();var i=(0,S.unique)(o.reduce(function(n,r){return r.year===e&&r.locationsTitle===t&&n.push(r.columnsTitle),n},[]));return i.sort(),(0,S.objectAssign)({},r,{year:e,locations:t,columns:n,locationsChoices:u,columnsChoices:i})}function h(e,t){var n=t.manifests,r=(0,S.unique)(n.map(function(e){return e.year})),o=u(r);return(0,S.objectAssign)({},e,{manifests:n,selector:o})}function y(e,t){var n=t.year,r=t.locations,o=t.columns,u=e.manifests,f=d(n,r,o,e.selector,u);if(n&&r&&o){var p=n+" "+r+" "+o,h=c(e.manifests,p),y=s(h),b=l(h),v=i();return(0,S.objectAssign)({},e,{manifest:h,table:y,results:b,current:v,selector:f})}return(0,S.objectAssign)(a(),{manifests:u,selector:f})}function b(e){var t=e.manifest,n=s(t),r=l(t);return(0,S.objectAssign)({},e,{table:n,results:r})}function v(e,t){var n=t.col,o=(0,S.objectAssign)({},e.results[n],{copied:!0,hasCopyError:!1}),u=(0,S.objectAssign)({},e.results,r({},n,o));return(0,S.objectAssign)({},e,{results:u})}function m(e,t){var n=t.col,o=(0,S.objectAssign)({},e.results[n],{copied:!1,hasCopyError:!0}),u=(0,S.objectAssign)({},e.results,r({},n,o));return(0,S.objectAssign)({},e,{results:u})}function w(e){var t=e.current,n=t.col,r=t.row;if(-1===n&&-1===r)return e;var o=(0,S.objectAssign)({},e.current,{unclear:!e.current.unclear});return(0,S.objectAssign)({},e,{current:o})}function g(e,t){var n=t.col,r=t.row,o=e.table[n][r],u=o.value,i=o.fullErrors,a=o.edited,c=o.unclear,s=(0,S.objectAssign)({},e.current,{value:u,fullErrors:i,partialErrors:i,unclear:c,edited:a,col:n,row:r});return(0,S.objectAssign)({},e,{current:s})}function O(e,t){var n=t.value,r=t.partialErrors,o=t.fullErrors,u=t.unclear,i=(0,S.objectAssign)({},e.current,{value:n,unclear:u,partialErrors:r,fullErrors:o,edited:!0});return(0,S.objectAssign)({},e,{current:i})}function E(e){var t=e.current,n=t.col,o=t.row,u=t.value,a=t.fullErrors,c=t.unclear,s=t.edited,l=(0,S.objectAssign)({},e.table,r({},n,(0,S.objectAssign)([],e.table[n],r({},o,{value:u,fullErrors:a,edited:s,unclear:c})))),f=p(l,e.results,n),d=i();return(0,S.objectAssign)({},e,{table:l,results:f,current:d})}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a(),t=arguments[1];switch(t.type){case"LOAD_MANIFESTS":return h(e,t);case"SELECT_SUBJECT":return y(e,t);case"BEGIN_UPDATE_VALUE":return g(e,t);case"UPDATE_VALUE":return O(e,t);case"END_UPDATE_VALUE":return E(e);case"TOGGLE_UNCLEAR":return w(e);case"DONE":return b(e);case"COPY":return v(e,t);case"COPY_ERROR":return m(e,t);default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var S=n(2);t.default=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{selector:e.selector,manifest:e.manifest,table:e.table,results:e.results,current:e.current}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),f=r(l),p=n(1),d=r(p),h=n(12),y=n(53),b=r(y),v=n(54),m=r(v),w=n(57),g=r(w),O=n(17),E=n(2),j=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSwitchInput=n.handleSwitchInput.bind(n),n.updateHeight=n.updateHeight.bind(n),n.state={nextTabIndex:-1},n.appRef=null,n.wrapperRef=null,n}return i(t,e),s(t,[{key:"updateHeight",value:function(){if(null!==this.wrapperRef){var e=void 0;e=window.innerHeight<this.wrapperRef.offsetHeight?"auto":window.innerHeight+this.wrapperRef.offsetTop-this.appRef.offsetTop+"px",this.appRef.style.height!==e&&(this.appRef.style.height=e)}}},{key:"updateTabIndex",value:function(){var e=this.state.nextTabIndex;-1!==e&&((0,E.focusTabIndex)(e),this.setState({nextTabIndex:-1}))}},{key:"handleSwitchInput",value:function(e,t){(0,E.blurTabIndex)(e),this.setState({nextTabIndex:t})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateHeight)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateHeight)}},{key:"componentDidUpdate",value:function(){this.updateHeight(),this.updateTabIndex()}},{key:"render",value:function(){var e=this,t=this.props,n=t.selector,r=t.manifest,o=t.table,u=t.results,i=t.dispatch,a=t.current;if(r){var c=new O.TabIndexGenerator(r),s=c.doneTabIndex();return f.default.createElement("div",{className:"app",ref:function(t){return e.appRef=t}},f.default.createElement(b.default,{selector:n,onSwitchInput:this.handleSwitchInput,dispatch:i}),f.default.createElement("div",{className:"wrapper",ref:function(t){return e.wrapperRef=t}},f.default.createElement(m.default,{manifest:r,dispatch:i,table:o,results:u,current:a,onSwitchInput:this.handleSwitchInput}),f.default.createElement(g.default,{dispatch:i,doneTabIndex:s,results:u,onSwitchInput:this.handleSwitchInput})))}return f.default.createElement("div",{className:"app",ref:function(t){return e.appRef=t}},f.default.createElement(b.default,{selector:n,onSwitchInput:this.handleSwitchInput,dispatch:i}))}}]),t}(f.default.Component);j.propTypes={manifest:d.default.object,selector:d.default.object.isRequired,table:d.default.object,results:d.default.object,current:d.default.object.isRequired,dispatch:d.default.func.isRequired},t.default=(0,h.connect)(a)(j)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=-1,r=[["",0]];return t.forEach(function(t,o){t===e&&(n=o+1),r.push([t,o+1])}),[n,r]}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),p=r(f),d=n(1),h=r(d),y=n(3),b=function(e){function t(e){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){return e.selector!==this.props.selector}},{key:"render",value:function(){var e=this.props,t=e.selector,n=e.dispatch,r=e.onSwitchInput,o=t.year,u=t.locations,i=t.columns,c=t.yearChoices,l=t.locationsChoices,f=t.columnsChoices,d=a(o,c),h=s(d,2),b=h[0],v=h[1],m=a(u,l),w=s(m,2),g=w[0],O=w[1],E=a(i,f),j=s(E,2),S=j[0],P=j[1],C=function(e){var t=parseInt(e.target.value),r=s(v[t],1),o=r[0];n((0,y.selectSubject)(o,"",""))},I=function(e){var t=parseInt(e.target.value),r=s(O[t],1),u=r[0];n((0,y.selectSubject)(o,u,""))},x=function(e){var t=parseInt(e.target.value),i=s(P[t],1),a=i[0];n((0,y.selectSubject)(o,u,a)),r(-1,1)};return p.default.createElement("div",{className:"subject-selector"},p.default.createElement("label",null,"Select subject set"),p.default.createElement("div",{className:"form-row"},p.default.createElement("div",{className:"col-auto"},p.default.createElement("label",{htmlFor:"select-year"},"Year"),p.default.createElement("select",{className:"form-control",id:"select-year",tabIndex:"-1",value:b,onChange:C},v.map(function(e){var t=s(e,2),n=t[0],r=t[1];return p.default.createElement("option",{key:n,value:r},n)}))),p.default.createElement("div",{className:"col-auto"},p.default.createElement("label",{htmlFor:"select-locations"},"Locations"),p.default.createElement("select",{className:"form-control",id:"select-locations",tabIndex:"-1",disabled:""===o,value:g,onChange:I},O.map(function(e){var t=s(e,2),n=t[0],r=t[1];return p.default.createElement("option",{key:n,value:r},n)}))),p.default.createElement("div",{className:"col-auto"},p.default.createElement("label",{htmlFor:"select-columns"},"Columns"),p.default.createElement("select",{className:"form-control",id:"select-columns",tabIndex:"-1",disabled:""===u,value:S,onChange:x},P.map(function(e){var t=s(e,2),n=t[0],r=t[1];return p.default.createElement("option",{key:n,value:r},n)})))))}}]),t}(p.default.Component);b.propTypes={selector:h.default.object.isRequired,onSwitchInput:h.default.func.isRequired,dispatch:h.default.func.isRequired},t.default=b},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsInput=t.ValueInput=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),p=o(f),d=n(1),h=o(d),y=n(55),b=r(y),v=n(56),m=r(v),w=n(3),g=n(2),O=n(17),E=n(18),j=o(E),S=t.ValueInput=function(e){function t(e){u(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyDown=n.handleKeyDown.bind(n),n.handleChange=n.handleChange.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleClick=n.handleClick.bind(n),n}return a(t,e),l(t,[{key:"handleKeyDown",value:function(e){var t=e.keyCode;13===t||40===t?(e.preventDefault(),this.props.onSwitchInput(this.props.tabIndex,this.props.tabIndex+1)):38===t&&(e.preventDefault(),this.props.onSwitchInput(this.props.tabIndex,this.props.tabIndex-1))}},{key:"handleChange",value:function(e){var t=b.validators[this.props.valueType],n=m.transformers[this.props.valueType],r=e.target.value,o=this.props.unclear;r.indexOf("/")>-1&&(r=r.replace(/\//g,""),o=!o),r=n(r);var u=t.partial(r),i=t.full(r);this.props.dispatch((0,w.updateValue)(r,u,i,o))}},{key:"handleFocus",value:function(e){(0,g.selectInput)(e.target),this.props.dispatch((0,w.beginUpdateValue)(this.props.col,this.props.row))}},{key:"handleBlur",value:function(e){this.props.edited||this.handleChange(e),this.props.dispatch((0,w.endUpdateValue)())}},{key:"handleClick",value:function(e){(0,g.selectInput)(e.target)}},{key:"render",value:function(){var e=this.props,t=e.tabIndex,n=e.edited,r=e.focused,o=e.unclear,u=e.value,i=e.partialErrors,a=e.fullErrors,c=!o&&n&&(r&&i.length>0||!r&&a.length>0),s=n&&!r&&(o||0===a.length),l=(0,g.classList)([["input-group value-group",!0],["is-invalid",c],["is-valid",s],["is-unclear",!c&&o]]),f="";return f=o?"wi-cloud":c?"wi-rain":"wi-day-sunny",p.default.createElement("div",{className:l},p.default.createElement("div",{className:"input-group-prepend"},p.default.createElement("span",{className:"input-group-text value-icon"},p.default.createElement(j.default,{iconName:f}))),p.default.createElement("input",{className:"form-control value-input",type:"text",value:u,tabIndex:t,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick}),p.default.createElement("div",{className:"invalid-tooltip value-tooltip"},i.join(", ")))}}]),t}(p.default.Component);S.propTypes={tabIndex:h.default.number.isRequired,col:h.default.number.isRequired,row:h.default.number.isRequired,valueType:h.default.oneOf(["pressure","temperature","rainfall"]).isRequired,value:h.default.string.isRequired,fullErrors:h.default.arrayOf(h.default.string).isRequired,partialErrors:h.default.arrayOf(h.default.string).isRequired,unclear:h.default.bool.isRequired,edited:h.default.bool.isRequired,focused:h.default.bool.isRequired,onSwitchInput:h.default.func.isRequired,dispatch:h.default.func.isRequired};var P=t.ResultsInput=function(e){function t(e){u(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleCopy=n.handleCopy.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleInputClick=n.handleInputClick.bind(n),n.handleInputContextMenu=n.handleInputContextMenu.bind(n),n.handleInputCopy=n.handleInputCopy.bind(n),n.inputRef=null,n}return a(t,e),l(t,[{key:"handleCopy",value:function(e){e.preventDefault(),(0,g.selectInput)(this.inputRef);try{document.execCommand("copy")?(this.props.dispatch((0,w.copy)(this.props.col)),this.props.onSwitchInput(this.props.tabIndex,this.props.tabIndex+1)):this.props.dispatch((0,w.copyError)(this.props.col))}catch(e){this.props.dispatch((0,w.copyError)(this.props.col))}}},{key:"handleKeyDown",value:function(e){var t=e.keyCode;13===t?this.handleCopy(e):40===t?(e.preventDefault(),this.props.onSwitchInput(this.props.tabIndex,this.props.tabIndex+1)):38===t&&(e.preventDefault(),this.props.onSwitchInput(this.props.tabIndex,this.props.tabIndex-1))}},{key:"handleInputClick",value:function(){(0,g.selectInput)(this.inputRef)}},{key:"handleInputContextMenu",value:function(){(0,g.selectInput)(this.inputRef)}},{key:"handleInputCopy",value:function(){""!==this.props.value&&this.props.dispatch((0,w.copy)(this.props.col))}},{key:"render",value:function(){var e=this,t=this.props,n=t.tabIndex,r=t.value,o=t.copied,u=t.hasCopyError,i=(0,g.classList)([["form-control result-input",!0],["is-valid",o],["is-invalid",u]]),a=""===r||!g.COPY_SUPPORTED;return p.default.createElement("div",{className:"input-group result-group"},p.default.createElement("input",{className:i,type:"text",value:r,tabIndex:"-1",ref:function(t){return e.inputRef=t},onCopy:this.handleInputCopy,onClick:this.handleInputClick,onContextMenu:this.handleInputContextMenu}),p.default.createElement("div",{className:"input-group-append"},p.default.createElement("button",{className:"btn btn-outline-secondary copy-button",title:"Copy",tabIndex:n,onClick:this.handleCopy,onKeyDown:this.handleKeyDown,disabled:a},p.default.createElement(j.default,{iconName:"fa-copy"}))),p.default.createElement("div",{className:"valid-tooltip"},"Copied"),p.default.createElement("div",{className:"invalid-tooltip"},"Copy error"))}}]),t}(p.default.Component);P.propTypes={tabIndex:h.default.number.isRequired,col:h.default.number.isRequired,row:h.default.number.isRequired,value:h.default.string.isRequired,copied:h.default.bool.isRequired,hasCopyError:h.default.bool.isRequired,onSwitchInput:h.default.func.isRequired,dispatch:h.default.func.isRequired};var C=function(e){function t(e){return u(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),l(t,[{key:"renderValueInput",value:function(e,t,n,r){var o=this.props,u=o.onSwitchInput,i=o.dispatch,a=o.current,c=o.table,l=void 0;if(e===a.col&&t===a.row){l={value:a.value,fullErrors:a.fullErrors,partialErrors:a.partialErrors,unclear:a.unclear,edited:a.edited,focused:!0}}else{var f=c[e][t];l={value:f.value,fullErrors:f.fullErrors,partialErrors:[],unclear:f.unclear,edited:f.edited,focused:!1}}return p.default.createElement(S,s({tabIndex:n,col:e,row:t,valueType:r.type,onSwitchInput:u,dispatch:i},l))}},{key:"renderResultInput",value:function(e,t,n){var r=this.props,o=r.results,u=r.onSwitchInput,i=r.dispatch,a=o[e],c=a.value,s=a.copied,l=a.hasCopyError;return p.default.createElement(P,{tabIndex:n,col:e,row:t,value:c,copied:s,hasCopyError:l,onSwitchInput:u,dispatch:i})}},{key:"renderColumnHeader",value:function(e,t){return p.default.createElement("th",{key:e},t.title)}},{key:"getBlockBoundaries",value:function(e){var t={0:!0};return e.blocks.reduce(function(e,n){return e+=n,t[e]=!0,e},0),t}},{key:"render",value:function(){var e=this,t=this.props.manifest,n=t.locations.length,r=this.getBlockBoundaries(t),o=new O.TabIndexGenerator(t),u=p.default.createElement("colgroup",null,t.columns.map(function(e,t){return e.ignore?null:p.default.createElement("col",{key:t,className:"column-"+e.type})})),i=p.default.createElement("tr",null,t.columns.map(function(t,n){return t.ignore?null:e.renderColumnHeader(n,t)})),a=t.locations.map(function(n,u){var i=(0,g.classList)([["above-block-boundary",u+1 in r],["below-block-boundary",u in r]]);return p.default.createElement("tr",{className:i,key:u},t.columns.map(function(t,r){return"header"===t.type?p.default.createElement("td",{className:"row-header",key:r},n):t.ignore?null:p.default.createElement("td",{key:r},e.renderValueInput(r,u,o.next(),t))}))}),c=p.default.createElement("tr",{className:"results-row",key:n},t.columns.map(function(t,r){return"header"===t.type?p.default.createElement("td",{key:r},p.default.createElement("strong",null,"Results")):t.ignore?null:p.default.createElement("td",{key:r},e.renderResultInput(r,n,o.next()))})),s=a;s.push(c);var l=10+6*o.getValueColumnCount()+"rem",f={width:l,minWidth:l};return p.default.createElement("table",{className:"table input-table",style:f},u,p.default.createElement("thead",null,i),p.default.createElement("tbody",null,s))}}]),t}(p.default.Component);C.propTypes={manifest:h.default.object.isRequired,table:h.default.object.isRequired,results:h.default.object.isRequired,current:h.default.object.isRequired,dispatch:h.default.func.isRequired,onSwitchInput:h.default.func.isRequired},t.default=C},function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t,n){return e.push(e[n]+t),e},["^\\??"]).map(function(e){return new RegExp(e+"$")})}function o(e){return new RegExp("^\\??"+e.join("")+"$")}function u(e){return e.reduce(function(e,t){return e.concat(r(t))},[])}function i(e){return e.map(o)}function a(e){return e?[]:["Does not match expected pattern"]}function c(e,t){return a(e.some(function(e){return e.test(t)}))}function s(e,t){return""===t?["Please enter a value"]:a(e.some(function(e){return e.test(t)}))}function l(e){var t=u(e).concat(y),n=i(e).concat(b);return{partial:function(e){return c(t,e)},full:function(e){return s(n,e)}}}Object.defineProperty(t,"__esModule",{value:!0});var f=[["","(#|\\*)"]],p=[["2","(7|8|9)","\\.","\\d","\\d"],["3","(0|1)","\\.","\\d","\\d"]],d=[["0"],["-?","[1-9]","\\d*"]],h=[["0"],["-"],["0","\\.","\\d","\\d"],["[1-9]","\\d*","\\.","\\d","\\d"]],y=u(f),b=i(f);t.validators={pressure:l(p),temperature:l(d),rainfall:l(h)}},function(e,t,n){"use strict";function r(e){var t=/^(\??0)(\d)$/,n=/^(\??0)\.(\d\d\d)$/,r=/^(\??\d\d)(\d)$/;if(t.test(e)){var o=e.match(t);return o[1]+"."+o[2]}if(n.test(e))return e;if(r.test(e)){var u=e.match(r);return u[1]+"."+u[2]}return e}function o(e){var t=/^(\??0)(\d)$/,n=/^(\??0)\.(\d\d\d)$/,r=/^(\??\d)(\d)$/,o=/^(\??\d+)\.(\d)(\d\d)$/;if(t.test(e)){var u=e.match(t);return u[1]+"."+u[2]}if(n.test(e))return e;if(r.test(e)){var i=e.match(r);return i[1]+"."+i[2]}if(o.test(e)){var a=e.match(o);return a[1]+a[2]+"."+a[3]}return e}function u(e,t){return function(n){return n===e?t:n}}function i(e,t){return e.reduce(function(e,t){return t(e)},t)}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return i(t,e)}}Object.defineProperty(t,"__esModule",{value:!0});var c=[u(".","#"),u("+","?")];t.transformers={pressure:a.apply(void 0,[r].concat(c)),temperature:a.apply(void 0,c),rainfall:a.apply(void 0,[o].concat(c))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),f=n(1),p=r(f),d=n(3),h=n(18),y=r(h),b=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDone=n.handleDone.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleUnclear=n.handleUnclear.bind(n),n}return i(t,e),c(t,[{key:"handleDone",value:function(e){e.preventDefault(),this.props.dispatch((0,d.done)()),this.props.onSwitchInput(this.props.doneTabIndex,1)}},{key:"handleKeyDown",value:function(e){13===e.keyCode&&this.handleDone(e)}},{key:"handleUnclear",value:function(e){e.preventDefault(),this.props.dispatch((0,d.toggleUnclear)())}},{key:"render",value:function(){var e=this.props,t=e.results,n=e.doneTabIndex,r=Object.keys(t).reduce(function(e,n){return e||!t[n].copied},!1);return l.default.createElement("div",{className:"buttons"},l.default.createElement("button",{className:"btn btn-outline-secondary",type:"button",title:"Unclear",tabIndex:"-1",onMouseDown:this.handleUnclear},l.default.createElement(y.default,{iconName:"wi-cloud"})," unclear"),l.default.createElement("button",{className:"btn btn-success float-right",type:"button",title:"Done",tabIndex:n,disabled:r,onClick:this.handleDone,onKeyDown:this.handleKeyDown},"Done"))}}]),t}(l.default.Component);b.propTypes={doneTabIndex:p.default.number.isRequired,results:p.default.object.isRequired,dispatch:p.default.func.isRequired,onSwitchInput:p.default.func.isRequired},t.default=b},function(e,t){e.exports=manifests}]);